# 12条点検アプリケーション 進捗状況

## 完了した機能

- **プロジェクト管理:**
    - 現場名と調査日からプロジェクト（現場情報）を作成・保存。
    - プロジェクトリストの読み込みと選択ドロップダウンの表示。
    - 選択されたプロジェクトに紐づく基本情報（現場名、調査日）の表示。
- **建物管理:**
    - 建物名の入力による、選択中のプロジェクトへの建物追加・保存。
    - 選択中のプロジェクトに紐づく建物リストの読み込みと選択ドロップダウンの表示。
    - 選択された建物の名前表示。
- **劣化情報管理 (CRUD):**
    - 選択中の建物に対する劣化情報（番号、場所、劣化名、写真番号）の登録。
    - 登録時に自動で連番（劣化番号）を付与。
    - 登録済み劣化情報の一覧表示（**最新の登録が上に表示される**）。
    - 登録済み劣化情報の編集機能（モーダル表示）。
    - 登録済み劣化情報の削除機能（確認ダイアログ付き）。
    - 最後に登録した場所・劣化名を用いた連続登録機能。
- **予測入力:**
    - 場所入力時の予測候補表示（CSVデータに基づくフロア・部屋名の組み合わせ）。
    - 劣化名入力時の予測候補表示（CSVデータに基づく劣化名・読み・コードによる検索）。
    - 編集モーダル内での場所・劣化名入力時にも同様の予測候補表示。
    - 入力フィールド間でEnterキー押下によるフォーカス移動。
    - 入力フィールド間で予測候補選択によるフォーカス移動（**PCでは動作、スマホではキーボード隠れ問題あり**）。
- **データ永続化:**
    - Firebase Realtime Database を使用したプロジェクト、建物、劣化情報の保存。
    - カウンター機能を用いた建物ごとの劣化番号管理。
    - 最後に選択したプロジェクトIDと建物IDを `localStorage` に保存し、次回起動時に復元。
- **エクスポート:**
    - 選択中の建物の劣化情報一覧をCSVファイルとしてダウンロードする機能。
- **UI:**
    - 「基本情報」「詳細情報」のタブ切り替え。
    - スマートフォン表示時のテーブル表示崩れ（横スクロール）をCSSで調整。
    - フッターにコピーライト表示（年号は動的に更新）。

## 残りの作業

- スマートフォンでのオートフォーカス問題の解決（現在中断中）。
- 必要に応じた追加機能開発やUI改善。

## 既知の問題

- **スマートフォンでのオートフォーカス:** 予測候補をタップして選択した場合、次の入力フィールドにフォーカスは移動するが、ソフトウェアキーボードが隠れてしまう。（現在中断中）
- （その他、もしあれば記載）

## マイルストーンの進捗状況
- **M1: 初期セットアップと基本UI** (完了)
  - [x] メモリバンク構築
  - [x] 基本HTML/CSS/JSファイル作成
  - [x] Firebaseプロジェクト設定
- **M2: 基本機能実装** (完了)
  - [x] 基本情報管理
  - [x] 建物管理
  - [x] 劣化情報入力 (基本)
- **M3: データ連携と高度化** (進行中)
  - [x] Firebaseとの連携（データ保存・同期）
  - [x] 劣化情報表示・編集・削除
  - [x] プロジェクト/建物選択
  - [x] 予測変換 (静的リストに基づく読み仮名/コード検索)
  - [x] 連続登録
  - [ ] 予測変換の高度化 (検討中)
- **M4: データI/Oとテスト** (進行中)
  - [x] CSVエクスポート
  - [ ] 包括的なテスト
- **M5: デプロイと改善** (進行中)
  - [x] 初期デプロイ (Firebase Hosting)
  - [ ] 継続的な改善とバグ修正 